{
  "experiment_name": "Simple Zero Shot - Mistral - PSD - JSON",
  "inputs": [
    "PSD003.json",
    "PSD002.json",
    "PSD005.json",
    "PSD009.json",
    "PSD008.json",
    "PSD004.json",
    "PSD007.json",
    "PSD010.json",
    "PSD006.json",
    "PSD001.json"
  ],
  "outputs": [
    {
      "file": "PSD003.json",
      "out": {
        "error": "\n{\n    \"nome_farmaco\": \"Aspirina\",\n    \"dose\": \"150 mg\",\n    \"modalit\u00e0\": \"una volta al giorno\",\n    \"frequenza\": \"una volta al giorno\"\n},\n{\n    \"nome_farmaco\": \"Metformina\",\n    \"dose\": \"500 mg\",\n    \"modalit\u00e0\": \"due volte al giorno\",\n    \"frequenza\": \"una volta al giorno\"\n},\n{\n    \"nome_farmaco\": \"Levotiroxina\",\n    \"dose\": \"50 mcg\",\n    \"modalit\u00e0\": \"una volta al giorno\",\n    \"frequenza\": \"una volta al giorno\"\n}\n]\n\n"
      }
    },
    {
      "file": "PSD002.json",
      "out": {
        "nome_farmaco": "Aspirina",
        "dose": "100 mg",
        "modalit\u00e0": "una volta al giorno",
        "frequenza": "una volta al giorno"
      }
    },
    {
      "file": "PSD005.json",
      "out": {
        "error": "\n{\n    \"nome_farmaco\": \"Aspirina\",\n    \"dose\": \"100 mg\",\n    \"modalit\u00e0\": \"orale\",\n    \"frequenza\": \"una volta al giorno\"\n},\n{\n    \"nome_farmaco\": \"Acido acetilsalicilico\",\n    \"dose\": \"325 mg\",\n    \"modalit\u00e0\": \"orale\",\n    \"frequenza\": \"due volte al giorno\"\n}\n"
      }
    },
    {
      "file": "PSD009.json",
      "out": {
        "error": "\n{\n    \"nome_farmaco\": \"Aspirina\",\n    \"dose\": \"100 mg\",\n    \"modalit\u00e0\": \"orale\",\n    \"frequenza\": \"una volta al giorno\"\n},\n{\n    \"nome_farmaco\": \"Pantoprazolo\",\n    \"dose\": \"20 mg\",\n    \"modalit\u00e0\": \"orale\",\n    \"frequenza\": \"una volta al giorno\"\n},\n{\n    \"nome_farmaco\": \"Acenocumaroil\",\n    \"dose\": \"4 mg\",\n    \"modalit\u00e0\": \"orale\",\n    \"frequenza\": \"una volta al giorno\"\n},\n{\n    \"nome_farmaco\": \"Bisoprololo\",\n    \"dose\": \"2.5 mg\",\n    \"modalit\u00e0\": \"orale\",\n    \"frequenza\": \"due volte al giorno\"\n},\n{\n    \"nome_farmaco\": \"Ramipril\",\n    \"dose\": \"5 mg\",\n    \"modalit\u00e0\": \"orale\",\n    \"frequenza\": \"due volte al giorno\"\n},\n{\n    \"nome_farmaco\": \"Furosemide\",\n    \"dose\": \"25 mg\",\n    \"modalit\u00e0\": \"orale\",\n    \"frequenza\": \"due volte al giorno\"\n},\n{\n    \"nome_farmaco\": \"Canrenoato di potassio\",\n    \"dose\": \"25 mg\",\n    \"modalit\u00e0\": \"orale\",\n    \"frequenza\": \"una volta al giorno\"\n}\n]\n\n"
      }
    },
    {
      "file": "PSD008.json",
      "out": {
        "nome_farmaco": "St Jude Reagent N\u00b021",
        "dose": "nm",
        "modalit\u00e0": "sostituzione valvolare aortica con protesi meccanica",
        "frequenza": "una sola volta"
      }
    },
    {
      "file": "PSD004.json",
      "out": [
        {
          "nome_farmaco": "Aspirina",
          "dose": "100 mg",
          "modalit\u00e0": "una volta al giorno",
          "frequenza": "una volta al giorno"
        },
        {
          "nome_farmaco": "Pantoprazolo",
          "dose": "20 mg",
          "modalit\u00e0": "una volta al giorno",
          "frequenza": "una volta al giorno"
        },
        {
          "nome_farmaco": "Acido acetilsalicilico",
          "dose": "100 mg",
          "modalit\u00e0": "una volta al giorno",
          "frequenza": "una volta al giorno"
        },
        {
          "nome_farmaco": "Ticagrelor",
          "dose": "90 mg",
          "modalit\u00e0": "due volte al giorno",
          "frequenza": "una volta al giorno"
        },
        {
          "nome_farmaco": "Bisoprololo",
          "dose": "1.25 mg",
          "modalit\u00e0": "due volte al giorno",
          "frequenza": "una volta al giorno"
        },
        {
          "nome_farmaco": "Furosemide",
          "dose": "25 mg",
          "modalit\u00e0": "due volte al giorno",
          "frequenza": "una volta al giorno"
        },
        {
          "nome_farmaco": "Canrenoato di potassio",
          "dose": "100 mg",
          "modalit\u00e0": "mezzo compimento",
          "frequenza": "una volta al giorno"
        },
        {
          "nome_farmaco": "Atorvastatina",
          "dose": "40 mg",
          "modalit\u00e0": "una volta al giorno",
          "frequenza": "una volta al giorno"
        },
        {
          "nome_farmaco": "Tiotropio Respimat",
          "dose": "2 inalazioni",
          "modalit\u00e0": "due volte al giorno",
          "frequenza": "una volta al giorno"
        },
        {
          "nome_farmaco": "Prednisone",
          "dose": "25 mg",
          "modalit\u00e0": "una volta al giorno",
          "frequenza": "per 5 giorni"
        }
      ]
    },
    {
      "file": "PSD007.json",
      "out": {
        "error": "\n{\n    \"nome_farmaco\": \"Amlodipina\",\n    \"dose\": \"5 mg\",\n    \"modalit\u00e0\": \"1 cp alle ore 8 e 1 cp alle ore 20\",\n    \"frequenza\": \"ndr\"\n},\n{\n    \"nome_farmaco\": \"Tegretol\",\n    \"dose\": \"400 mg\",\n    \"modalit\u00e0\": \"1 cp alle ore 8 e +1/2 cp alle ore 20\",\n    \"frequenza\": \"ndr\"\n},\n{\n    \"nome_farmaco\": \"Topiramato\",\n    \"dose\": \"1 cp\",\n    \"modalit\u00e0\": \"alle ore 8 e alle ore 20\",\n    \"frequenza\": \"ndr\"\n},\n{\n    \"nome_farmaco\": \"Ivabradina\",\n    \"dose\": \"5 mg\",\n    \"modalit\u00e0\": \"1 cp alle ore 8 e 1 cp alle ore 20\",\n    \"frequenza\": \"ndr\"\n},\n{\n    \"nome_farmaco\": \"Amlodipina\",\n    \"dose\": \"5 mg\",\n    \"modalit\u00e0\": \"1 cp alle ore 8 e 1 cp alle ore 20\",\n    \"frequenza\": \"ndr\"\n},\n{\n    \"nome_farmaco\": \"Tegretol\",\n    \"dose\": \"400 mg\",\n    \"modalit\u00e0\": \"1 cp alle ore 8 e +1/2 cp alle ore 20\",\n    \"frequenza\": \"ndr\"\n},\n{\n    \"nome_farmaco\": \"Topiramato\",\n    \"dose\": \"1 cp\",\n    \"modalit\u00e0\": \"alle ore 8 e alle ore 20\",\n    \"frequenza\": \"ndr\"\n},\n{\n    \"nome_farmaco\": \"Ivabradina\",\n    \"dose\": \"5 mg\",\n    \"modalit\u00e0\": \"1 cp alle ore 8 e 1 cp alle ore 20\",\n    \"frequenza\": \"ndr\"\n}\n]\n"
      }
    },
    {
      "file": "PSD010.json",
      "out": {
        "error": "\n\n{\n    \"nome_farmaco\": \"Aspirina\",\n    \"dose\": \"100 mg\",\n    \"modalit\u00e0\": \"una volta al giorno\",\n    \"frequenza\": \"una volta al giorno\"\n},\n{\n    \"nome_farmaco\": \"Clopidogrel\",\n    \"dose\": \"75 mg\",\n    \"modalit\u00e0\": \"una volta al giorno\",\n    \"frequenza\": \"una volta al giorno\"\n},\n{\n    \"nome_farmaco\": \"Ticagrelor\",\n    \"dose\": \"90 mg\",\n    \"modalit\u00e0\": \"due volte al giorno\",\n    \"frequenza\": \"una volta al giorno\"\n},\n{\n    \"nome_farmaco\": \"Bisoprololo\",\n    \"dose\": \"1.25 mg\",\n    \"modalit\u00e0\": \"due volte al giorno\",\n    \"frequenza\": \"una volta al giorno\"\n},\n{\n    \"nome_farmaco\": \"Ramipril\",\n    \"dose\": \"2.5 mg\",\n    \"modalit\u00e0\": \"due volte al giorno\",\n    \"frequenza\": \"una volta al giorno\"\n},\n{\n    \"nome_farmaco\": \"Furosemide\",\n    \"dose\": \"20 mg\",\n    \"modalit\u00e0\": \"tre volte al giorno\",\n    \"frequenza\": \"una volta al giorno\"\n},\n{\n    \"nome_farmaco\": \"Spironolactone\",\n    \"dose\": \"25 mg\",\n    \"modalit\u00e0\": \"una volta al giorno\",\n    \"frequenza\": \"una volta al giorno\"\n},\n{\n    \"nome_farmaco\": \"Atorvastatin\",\n    \"dose\": \"100 mg\",\n    \"modalit\u00e0\": \"mezzo compimento al giorno\",\n    \"frequenza\": \"una volta al giorno\"\n},\n{\n    \"nome_farmaco\": \"Tamsulosina\",\n    \"dose\": \"0.4 mg\",\n    \"modalit\u00e0\": \"una volta al giorno\",\n    \"frequenza\": \"una volta al giorno\"\n}\n\n"
      }
    },
    {
      "file": "PSD006.json",
      "out": {
        "error": "\n{\n    \"nome_farmaco\": \"Pantoprazolo\",\n    \"dose\": \"20 mg\",\n    \"modalit\u00e0\": \"1 cp alle ore 8\",\n    \"frequenza\": \"\"\n},\n{\n    \"nome_farmaco\": \"Valsartan\",\n    \"dose\": \"80 mg\",\n    \"modalit\u00e0\": \"1 cp alle ore 8\",\n    \"frequenza\": \"\"\n},\n{\n    \"nome_farmaco\": \"Furosemide\",\n    \"dose\": \"25 mg\",\n    \"modalit\u00e0\": \"\u00bd cp alle ore 8\",\n    \"frequenza\": \"\"\n},\n{\n    \"nome_farmaco\": \"Prednisone\",\n    \"dose\": \"25 mg\",\n    \"modalit\u00e0\": \"1 cp alle ore 8\",\n    \"frequenza\": \"\"\n}\n"
      }
    },
    {
      "file": "PSD001.json",
      "out": {
        "error": "\n{\n    \"nome_farmaco\": \"PANTOPRAZOLO\",\n    \"dose\": \"20 mg\",\n    \"modalit\u00e0\": \"1 cp alle ore 8\",\n    \"frequenza\": \"una volta al giorno\"\n},\n{\n    \"nome_farmaco\": \"CLOPIDOGREL\",\n    \"dose\": \"75 mg\",\n    \"modalit\u00e0\": \"1 cp dopo pranzo\",\n    \"frequenza\": \"una volta al giorno\"\n},\n{\n    \"nome_farmaco\": \"BISOPROLOLO\",\n    \"dose\": \"1.25 mg\",\n    \"modalit\u00e0\": \"1 cp alle ore 8 e 1 cp alle ore 20\",\n    \"frequenza\": \"due volte al giorno\"\n},\n{\n    \"nome_farmaco\": \"RAMIPRIL\",\n    \"dose\": \"5 mg\",\n    \"modalit\u00e0\": \"1 cp alle ore 8 e 1 cp alle ore 20\",\n    \"frequenza\": \"due volte al giorno\"\n},\n{\n    \"nome_farmaco\": \"FUROSEMIDE\",\n    \"dose\": \"500 mg\",\n    \"modalit\u00e0\": \"\u00bc cp alle ore 8 e \u00bc alle ore 20\",\n    \"frequenza\": \"due volte al giorno\"\n},\n{\n    \"nome_farmaco\": \"CANREONATO DI POTASSIO\",\n    \"dose\": \"100 mg\",\n    \"modalit\u00e0\": \"\u00bd cp alle ore 16\",\n    \"frequenza\": \"una volta al giorno\"\n},\n{\n    \"nome_farmaco\": \"LEVOTIROXINA\",\n    \"dose\": \"100 mcg\",\n    \"modalit\u00e0\": \"1 cp a digiuno alle ore 7\",\n    \"frequenza\": \"una volta al giorno\"\n},\n{\n    \"nome_farmaco\": \"TIOTROPIO Respimat\",\n    \"dose\": \"2 inalazioni\",\n    \"modalit\u00e0\": \"al mattino\",\n    \"frequenza\": \"una volta al giorno\"\n},\n{\n    \"nome_farmaco\": \"LOPRAZEPAM\",\n    \"dose\": \"1 mg\",\n    \"modalit\u00e0\": \"1 cp alle ore 22\",\n    \"frequenza\": \"una volta al giorno\"\n},\n{\n    \"nome_farmaco\": \"DOMPERIDONE\",\n    \"dose\": \"1 cp\",\n    \"modalit\u00e0\": \"a pranzo e a cena\",\n    \"frequenza\": \"due volte al giorno\"\n}\n"
      }
    }
  ],
  "pipeline": [
    {
      "name": "input text",
      "inputs": ""
    },
    {
      "name": "step1",
      "model": "LLamaCppModel",
      "prompt": "<|im_start|>sistema\nEmulare uno strumento per il compito specificato. Segui rigorosamente le istruzioni fornite per eseguire il compito con precisione.\nIl tuo ruolo \u00e8 quello di aderire esclusivamente alle linee guida fornite e di eseguire le azioni designate senza alcuna deviazione.<|im_end|>\n<|im_start|>utente\nCOMPITO: Estrazione di entit\u00e0 denominate per i farmaci\nEstrarre tutti e soli i farmaci dal documento sottostante.\nMettere tutte le entit\u00e0 estratte in un array json con le chiavi nome_farmaco, dose, modalit\u00e0 e frequenza.\nSe non ci sono dati in una delle chiavi, scrivere \"nm\".\nSeguire un formato json come questo:\n{{\n    \"nome_farmaco\": string,\n    \"dose\": string,\n    \"modalit\u00e0\": string,\n    \"frequenza\": string\n}}\n\n``documento.txt\n{document}\n```\n<|im_end|>\n<|im_start|>assistente\n``medicinali.json",
      "params": {
        "temperature": 0.0,
        "mirostat_tau": 5.0,
        "n_predict": 1024,
        "mirostat": 2,
        "stop": [
          "###################",
          "USER",
          "ASSISTANT",
          "```"
        ]
      },
      "map_input": "def map_input(inputs: list = None):\n    return {'document': inputs[0].output.value}\n",
      "map_output": "def map_output(output):\n    output = output.replace('<dummy32000>', '')\n    if not output.endswith('<|im_end|>'):\n        output += '<|im_end|>'\n    return output\n",
      "inputs": "input text"
    },
    {
      "name": "to json",
      "inputs": "step1"
    }
  ]
}